template:
  name: Sales Analyst Agent
  description: |-
    This agent helps users analyze sales data by leveraging the Code Interpreter tool
    for data analysis and a File Search tool to access uploaded sales documents.
    The agent provides insights on sales performance, customer trends, and product analysis.

  metadata:
    tags:
      - example
      - analyst
    authors:
      - sethjuarez
      - jietong

  model: gpt-4o

  tools:
    code_interpreter_tool:
      kind: code_interpreter
      description: An API to extract intent from a given message.
      fileIds: {{fileIds}}

    file_search_tool:
      kind: file_search
      description: An API to search files that have been uploaded to the agent.
      connection: {{file_search_connection}}
      ranker: default
      scoreThreshold: 0.5
      maxResults: 5
      maxContentLength: 2000
      vectorStoreIds: {{vectorStoreIds}}

  instructions: |-
    You are an expert sales analyst.
    Use the uploaded sales data to answer questions about orders, customers, regions, and product performance.
    Always explain your reasoning and cite relevant files or calculations.

resources:
  gpt-4o-deployment:
    kind: model
    id: gpt-4o
  file_search_tool:
    kind: tool
    id: file_search

parameters:
  file_search_connection:
    kind: string
    required: true
  vectorStoreIds:
    kind: array
    items:
      kind: string
    required: true
  fileIds:
    kind: array
    items:
      kind: string
    required: true
