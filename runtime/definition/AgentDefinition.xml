<!--
  This file was generated by AgentSchema Emitter
  It represents the shared Agent Abstractions
  (Work in Progress - do not edit)
-->
<?xml version="1.0" encoding="utf-8"?>
<NodeCollection xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.microsoft.com/powervirtualagents/objectmodel/2021 Schemas/ModelSchema.xsd http://schemas.microsoft.com/powervirtualagents/objectmodel-dataverse/2021 Schemas/DataverseSchema.xsd http://schemas.microsoft.com/powervirtualagents/objectmodel-userinterface/2021 Schemas/UserInterfaceSchema.xsd" xmlns="http://schemas.microsoft.com/powervirtualagents/objectmodel/2021" xmlns:cds="http://schemas.microsoft.com/powervirtualagents/objectmodel-dataverse/2021" xmlns:ui="http://schemas.microsoft.com/powervirtualagents/objectmodel-userinterface/2021">
  <AbstractNode Name="AgentDefinition" BaseType="BotElement" Description="The following is a specification for defining AI agents with structured metadata, inputs, outputs, tools, and templates.
It provides a way to create reusable and composable AI agents that can be executed with specific configurations.
The specification includes metadata about the agent, model configuration, input parameters, expected outputs,
available tools, and template configurations for prompt rendering." Discriminator="kind">
    <Property Name="kind" Type="string"/>
    <Property Name="name" Type="string"/>
    <Property Name="displayName" Type="string"/>
    <Property Name="description" Type="string"/>
    <Property Name="metadata" Type="dictionary"/>
    <Property Name="inputSchema" Type="PropertySchema"/>
    <Property Name="outputSchema" Type="PropertySchema"/>
  </AbstractNode>
  <AbstractNode Name="Connection" BaseType="BotElement" Description="Connection configuration for AI agents.
`provider`, `kind`, and `endpoint` are required properties here,
but this section can accept additional via options." Discriminator="kind">
    <Property Name="kind" Type="string"/>
    <Property Name="authenticationMode" Type="string" DefaultValue="system"/>
    <Property Name="usageDescription" Type="string"/>
  </AbstractNode>
  <Node Name="ReferenceConnection" BaseType="BotElement" Description="Connection configuration for AI services using named connections.">
    <Property Name="kind" Type="string" DefaultValue="reference"/>
    <Property Name="name" Type="string"/>
    <Property Name="target" Type="string"/>
  </Node>
  <Node Name="RemoteConnection" BaseType="BotElement" Description="Connection configuration for AI services using named connections.">
    <Property Name="kind" Type="string" DefaultValue="remote"/>
    <Property Name="name" Type="string"/>
    <Property Name="endpoint" Type="string"/>
  </Node>
  <Node Name="ApiKeyConnection" BaseType="BotElement" Description="Connection configuration for AI services using API keys.">
    <Property Name="kind" Type="string" DefaultValue="key"/>
    <Property Name="endpoint" Type="string"/>
    <Property Name="apiKey" Type="string"/>
  </Node>
  <Node Name="AnonymousConnection" BaseType="BotElement" Description="No description available.">
    <Property Name="kind" Type="string" DefaultValue="anonymous"/>
    <Property Name="endpoint" Type="string"/>
  </Node>
  <Node Name="ModelOptions" BaseType="BotElement" Description="Options for configuring the behavior of the AI model.
`kind` is a required property here, but this section can accept additional via options." Discriminator="kind">
    <Property Name="frequencyPenalty" Type="float32"/>
    <Property Name="maxOutputTokens" Type="int32"/>
    <Property Name="presencePenalty" Type="float32"/>
    <Property Name="seed" Type="int32"/>
    <Property Name="temperature" Type="float32"/>
    <Property Name="topK" Type="int32"/>
    <Property Name="topP" Type="float32"/>
    <CollectionProperty Name="stopSequences" ItemType="string"/>
    <Property Name="allowMultipleToolCalls" Type="boolean"/>
    <Property Name="additionalProperties" Type="dictionary"/>
  </Node>
  <Node Name="Model" BaseType="BotElement" Description="Model for defining the structure and behavior of AI agents.
This model includes properties for specifying the model&#39;s provider, connection details, and various options.
It allows for flexible configuration of AI models to suit different use cases and requirements.">
    <Property Name="id" Type="string"/>
    <Property Name="provider" Type="string"/>
    <Property Name="apiType" Type="string"/>
    <Property Name="connection" Type="Connection"/>
    <Property Name="options" Type="ModelOptions"/>
  </Node>
  <Node Name="Binding" BaseType="BotElement" Description="Represents a binding between an input property and a tool parameter.">
    <Property Name="name" Type="string"/>
    <Property Name="input" Type="string"/>
  </Node>
  <AbstractNode Name="Tool" BaseType="BotElement" Description="Represents a tool that can be used in prompts." Discriminator="kind">
    <Property Name="name" Type="string"/>
    <Property Name="kind" Type="string"/>
    <Property Name="description" Type="string"/>
    <CollectionProperty Name="bindings" ItemType="Binding"/>
  </AbstractNode>
  <Node Name="Property" BaseType="BotElement" Description="Represents a single property
* This model defines the structure of properties that can be used in prompts,
including their type, description, whether they are required, and other attributes.
* It allows for the definition of dynamic inputs that can be filled with data
and processed to generate prompts for AI models." Discriminator="kind">
    <Property Name="name" Type="string"/>
    <Property Name="kind" Type="string"/>
    <Property Name="description" Type="string"/>
    <Property Name="required" Type="boolean" DefaultValue="false"/>
    <Property Name="default" Type="unknown"/>
    <Property Name="example" Type="unknown"/>
    <CollectionProperty Name="enumValues" ItemType="unknown"/>
  </Node>
  <Node Name="ObjectProperty" BaseType="BotElement" Description="Represents an object property.
This extends the base Property model to represent a structured object.">
    <Property Name="kind" Type="string" DefaultValue="object"/>
    <CollectionProperty Name="properties" ItemType="Property"/>
  </Node>
  <Node Name="ArrayProperty" BaseType="BotElement" Description="Represents an array property.
This extends the base Property model to represent an array of items.">
    <Property Name="kind" Type="string" DefaultValue="array"/>
    <Property Name="items" Type="Property"/>
  </Node>
  <Node Name="PropertySchema" BaseType="BotElement" Description="Definition for the property schema of a model.
This includes the properties and example records.">
    <CollectionProperty Name="examples" ItemType="dictionary"/>
    <Property Name="strict" Type="boolean" DefaultValue="false"/>
    <CollectionProperty Name="properties" ItemType="Property"/>
  </Node>
  <Node Name="FunctionTool" BaseType="BotElement" Description="Represents a local function tool.">
    <Property Name="kind" Type="string" DefaultValue="function"/>
    <Property Name="parameters" Type="PropertySchema"/>
    <Property Name="strict" Type="boolean" DefaultValue="true"/>
  </Node>
  <Node Name="CustomTool" BaseType="BotElement" Description="Represents a generic server tool that runs on a server
This tool kind is designed for operations that require server-side execution
It may include features such as authentication, data storage, and long-running processes
This tool kind is ideal for tasks that involve complex computations or access to secure resources
Server tools can be used to offload heavy processing from client applications">
    <Property Name="kind" Type="string" DefaultValue="*"/>
    <Property Name="connection" Type="Connection"/>
    <Property Name="options" Type="dictionary"/>
  </Node>
  <Node Name="WebSearchTool" BaseType="BotElement" Description="The Bing search tool.">
    <Property Name="kind" Type="string" DefaultValue="bing_search"/>
    <Property Name="connection" Type="Connection"/>
    <Property Name="options" Type="dictionary"/>
  </Node>
  <Node Name="FileSearchTool" BaseType="BotElement" Description="A tool for searching files.
This tool allows an AI agent to search for files based on a query.">
    <Property Name="kind" Type="string" DefaultValue="file_search"/>
    <Property Name="connection" Type="Connection"/>
    <CollectionProperty Name="vectorStoreIds" ItemType="string"/>
    <Property Name="maximumResultCount" Type="int32"/>
    <Property Name="ranker" Type="string"/>
    <Property Name="scoreThreshold" Type="float32"/>
    <Property Name="filters" Type="dictionary"/>
  </Node>
  <AbstractNode Name="McpServerApprovalMode" BaseType="BotElement" Description="The approval mode for MCP server tools." Discriminator="kind">
    <Property Name="kind" Type="string"/>
  </AbstractNode>
  <Node Name="McpServerToolAlwaysRequireApprovalMode" BaseType="BotElement" Description="No description available.">
    <Property Name="kind" Type="string" DefaultValue="always"/>
  </Node>
  <Node Name="McpServerToolNeverRequireApprovalMode" BaseType="BotElement" Description="No description available.">
    <Property Name="kind" Type="string" DefaultValue="never"/>
  </Node>
  <Node Name="McpServerToolSpecifyApprovalMode" BaseType="BotElement" Description="No description available.">
    <Property Name="kind" Type="string" DefaultValue="specify"/>
    <CollectionProperty Name="alwaysRequireApprovalTools" ItemType="string"/>
    <CollectionProperty Name="neverRequireApprovalTools" ItemType="string"/>
  </Node>
  <Node Name="McpTool" BaseType="BotElement" Description="The MCP Server tool.">
    <Property Name="kind" Type="string" DefaultValue="mcp"/>
    <Property Name="connection" Type="Connection"/>
    <Property Name="serverName" Type="string"/>
    <Property Name="serverDescription" Type="string"/>
    <Property Name="approvalMode" Type="McpServerApprovalMode"/>
    <CollectionProperty Name="allowedTools" ItemType="string"/>
  </Node>
  <Node Name="OpenApiTool" BaseType="BotElement" Description="No description available.">
    <Property Name="kind" Type="string" DefaultValue="openapi"/>
    <Property Name="connection" Type="Connection"/>
    <Property Name="specification" Type="string"/>
  </Node>
  <Node Name="CodeInterpreterTool" BaseType="BotElement" Description="A tool for interpreting and executing code.
This tool allows an AI agent to run code snippets and analyze data files.">
    <Property Name="kind" Type="string" DefaultValue="code_interpreter"/>
    <CollectionProperty Name="fileIds" ItemType="string"/>
  </Node>
  <Node Name="Format" BaseType="BotElement" Description="Template format definition" Discriminator="kind">
    <Property Name="kind" Type="string" DefaultValue="*"/>
    <Property Name="strict" Type="boolean" DefaultValue="false"/>
    <Property Name="options" Type="dictionary"/>
  </Node>
  <Node Name="Parser" BaseType="BotElement" Description="Template parser definition" Discriminator="kind">
    <Property Name="kind" Type="string" DefaultValue="*"/>
    <Property Name="options" Type="dictionary"/>
  </Node>
  <Node Name="Template" BaseType="BotElement" Description="Template model for defining prompt templates.

This model specifies the rendering engine used for slot filling prompts,
the parser used to process the rendered template into API-compatible format,
and additional options for the template engine.

It allows for the creation of reusable templates that can be filled with dynamic data
and processed to generate prompts for AI models.">
    <Property Name="format" Type="Format"/>
    <Property Name="parser" Type="Parser"/>
  </Node>
  <Node Name="PromptAgent" BaseType="BotElement" Description="Prompt based agent definition. Used to create agents that can be executed directly.
These agents can leverage tools, input parameters, and templates to generate responses.
They are designed to be straightforward and easy to use for various applications.">
    <Property Name="kind" Type="string" DefaultValue="prompt"/>
    <Property Name="model" Type="Model"/>
    <CollectionProperty Name="tools" ItemType="Tool"/>
    <Property Name="template" Type="Template"/>
    <Property Name="instructions" Type="string"/>
    <Property Name="additionalInstructions" Type="string"/>
  </Node>
  <Node Name="Workflow" BaseType="BotElement" Description="A workflow agent that can orchestrate multiple steps and actions.
This agent type is designed to handle complex workflows that may involve
multiple tools, models, and decision points.

The workflow agent can be configured with a series of steps that define
the flow of execution, including conditional logic and parallel processing.
This allows for the creation of sophisticated AI-driven processes that can
adapt to various scenarios and requirements.

Note: The detailed structure of the workflow steps and actions is not defined here
and would need to be implemented based on specific use cases and requirements.">
    <Property Name="kind" Type="string" DefaultValue="workflow"/>
    <Property Name="trigger" Type="dictionary"/>
  </Node>
  <Node Name="ProtocolVersionRecord" BaseType="BotElement" Description="No description available.">
    <Property Name="protocol" Type="string"/>
    <Property Name="version" Type="string"/>
  </Node>
  <Node Name="EnvironmentVariable" BaseType="BotElement" Description="Definition for an environment variable used in containerized agents.">
    <Property Name="name" Type="string"/>
    <Property Name="value" Type="string"/>
  </Node>
  <Node Name="ContainerAgent" BaseType="BotElement" Description="This represents a container based agent hosted by the provider/publisher.
The intent is to represent a container application that the user wants to run
in a hosted environment that the provider manages.">
    <Property Name="kind" Type="string" DefaultValue="hosted"/>
    <CollectionProperty Name="protocols" ItemType="ProtocolVersionRecord"/>
    <CollectionProperty Name="environmentVariables" ItemType="EnvironmentVariable"/>
  </Node>
  <AbstractNode Name="Resource" BaseType="BotElement" Description="Represents a resource required by the agent
Resources can include databases, APIs, or other external systems
that the agent needs to interact with to perform its tasks" Discriminator="kind">
    <Property Name="name" Type="string"/>
    <Property Name="kind" Type="string"/>
  </AbstractNode>
  <Node Name="ModelResource" BaseType="BotElement" Description="Represents a model resource required by the agent">
    <Property Name="kind" Type="string" DefaultValue="model"/>
    <Property Name="id" Type="string"/>
  </Node>
  <Node Name="ToolResource" BaseType="BotElement" Description="Represents a tool resource required by the agent">
    <Property Name="kind" Type="string" DefaultValue="tool"/>
    <Property Name="id" Type="string"/>
    <Property Name="options" Type="dictionary"/>
  </Node>
  <Node Name="AgentManifest" BaseType="BotElement" Description="The following represents a manifest that can be used to create agents dynamically.
It includes parameters that can be used to configure the agent&#39;s behavior.
These parameters include values that can be used as publisher parameters that can
be used to describe additional variables that have been tested and are known to work.

Variables described here are then used to project into a prompt agent that can be executed.
Once parameters are provided, these can be referenced in the manifest using the following notation:

`{{myParameter}}`

This allows for dynamic configuration of the agent based on the provided parameters.
(This notation is used elsewhere, but only the `param` scope is supported here)">
    <Property Name="name" Type="string"/>
    <Property Name="displayName" Type="string"/>
    <Property Name="description" Type="string"/>
    <Property Name="metadata" Type="dictionary"/>
    <Property Name="template" Type="AgentDefinition"/>
    <Property Name="parameters" Type="PropertySchema"/>
    <CollectionProperty Name="resources" ItemType="Resource"/>
  </Node>
</NodeCollection>